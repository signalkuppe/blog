{# Post content, extends _layoutPost #}

{% extends "layouts/_layoutPost.njk" %}
{% import "macros.njk" as macro %}

{% block header %}
  {% call macro.contentHeader(category, title, description) -%}
  <time datetime="{{ date | formatDate('YYYY-MM-DD') }}" itemprop="datePublished">{{ date | formatDate('DD MMMM YYYY') }}</time>
  <span itemprop="author" itemscope itemtype="http://schema.org/Person"  class="u-srOnly">
    <span itemprop="name">{{ author }}</span>
  </span>
  {%- endcall %}
{% endblock %}

{% block cover %}
  <figure class="c-postCover">
    {{ macro.coverImage(cover.id, cover.gravity, caption, cover.version) }}
    <figcaption class="c-postCover-caption">{{ caption }}</figcaption>
  </figure>
{% endblock %}

{% block body %}
  <section itemprop="articleBody">
    {{ content | safe }}
  <p class="u-printOnly">
    <strong>Grazie per aver stampato questa pagina, buona gita! ðŸ¤Ÿ</strong>
  </p>
  </section>
{% endblock %}

{% block aside %}
  <aside>
    {% if gps %}
    <div class="u-mb-4">
      <h3 class="u-mb-1">Scarica le tracce gps</h3>
      {{ macro.gpsTracks(gps) }}
    </div>
    {% endif %}
    <div class="u-mb-4">
      <h3 class="u-mb-1">Condividi</h3>
      {{ macro.share(page.url, title, description, nickname) }}
    </div>
  </aside>
{% endblock %}

{% block gallery %}
  {{ macro.masonryGallery(gallery) }}
{% endblock %}

{% block nav %}
  {% set prevUrl = prev.url %}
  {% set prevTitle %}{{ prev.date | formatDate('DD MMMM YYYY') }} - {{ prev.title }}{% endset %}
  {% set nextUrl = next.url %}
  {% set nextTitle %}{{ next.date | formatDate('DD MMMM YYYY') }} - {{ next.title }}{% endset %}
  {{ macro.prevNext(prevUrl, prevTitle, nextUrl, nextTitle) }}
  <p class="u-text-center u-mt-8">Vuoi rimanere aggiornato sui nuovi post? <strong><a href="http://eepurl.com/dgiWQH"><br>Iscriviti alla newsletter</a></strong></p>
{% endblock %}
