{# 
# Social media meta tags
# @param {string} title  - The page title
# @param {string} description  - The page description
# @param {string} image  - The page cloudinary image id
# @param {string} twitterCard  - The type of twitter card (default = summary)
# @param {string} ogType - The open graph type (default = article)
#}

{% macro socialMeta(title, description, image, twitterCard='summary', ogType='article') %}
<meta name="description" content="{{ description }}">
<meta name="twitter:card" content="{{ twitterCard }}" />
<meta name="twitter:site" content="{% info 'twitter' %}" />
<meta name="twitter:creator" content="{% info 'twitter' %}" />
<meta property="og:site_name" content="{% info 'name' %}" />
<meta name="twitter:title" content="{{ title }} "/>
<meta property="og:title" content="{{ title }}" />
<meta property="og:type" content="{{ ogType }}" />
<meta property="og:image" content="{{ cloudinaryImageUrl(image, 'w_200,h_200,c_fill,f_auto,q_auto,g_center') }}" />
<meta property="og:description" content="{{ description }}" />
{% endmacro %}


{# 
# favicons
#}

{% macro favicons() %}
<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="manifest" href="/favicons/manifest.json">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#000000">
<meta name="theme-color" content="#ffffff">
{% endmacro %}

{# 
# Common meta tags
#}

{% macro commonMeta () %}
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="apple-mobile-web-app-capable" content="yes">
{% endmacro %}

{# 
# Canonical meta tags
# @param {string} url - The page ulr
#}

{% macro canonical(pageUrl) %}
<link rel="canonical" href="{% info 'baseUrl' %}{{ pageUrl }}">
{% endmacro %}


{# 
# Meta title
# @param {string} title - The title
# @param {string} slogan - The slogan adter the pipe
#}

{% macro metaTitle(title, slogan) %}
<title>{{ title }} | {{ slogan }}</title>
{% endmacro %}

{# 
# Document type
#}

{% macro docType() %}
<!doctype html>
{% endmacro %}

{# 
# html tag
#}
{% macro htmlTag() %}<html lang="it">{% endmacro %}

{# 
# Site css file
#}

{% macro css() %}
<link href="/css/index.css" rel="stylesheet">
{% endmacro %}

{# 
# Site menu
#}

{% macro menu() %}
<nav class="sticky w-screen h-nav leading-nav landscape:ratio-2-3-remaining landscape:float-right pin-t z-50 p-2">
  <a class="landscape:gutter-left inline-block no-underline text-black" href="/" title="Torna alla pagina iniziale">
    <h1 class="text-lg uppercase">Signalkuppe</h1>
  </a>
  <button id="menu-open" class="float-right mt-3 mr-4 text-lg" aria-haspopup="true" aria-expanded="false" aria-controls="menu" aria-label="Apri il menu di navigazione">
    {% include 'icons/menu.njk' %}
  </button>
  <div id="menu" class="menu ist-reset bg-yellow-lightest h-screen fixed pin-r pin-t w-5/6 max-w-sm hidden">
    <h2 class="text-center text-3xl mt-16 text-yellow-darker">Menu</h2>
    <div class="mt-4 mb-16 text-center text-yellow-darker">{% include 'icons/sitemap.njk' %}</div>
    <ul class="list-reset">
      <li class="hover:bg-yellow-lighter"><a class="block pt-2 pb-2 pl-4 pr-4 text-yellow-darker uppercase no-underline font-bold" href="/" title="Torna alla pagina iniziale">Homepage</a></li>
      <li class="active border-primary border-l-8 bg-yellow-light"><a class="block pt-2 pb-2 pl-4 pr-4 text-yellow-darker uppercase no-underline font-bold" href="/blog" title="Elenco completo dei post">Blog</a></li>
      <li class="hover:bg-yellow-lighter"><a class="block pt-2 pb-2 pl-4 pr-4 text-yellow-darker uppercase no-underline font-bold" href="/foto" title="Il mio portfolio fotografico">Foto</a></li>
      <li class="hover:bg-yellow-lighter"><a class="block pt-2 pb-2 pl-4 pr-4 text-yellow-darker uppercase no-underline font-bold" href="/info" title="Informazioni sullâ€™autore">Info</a></li>
    </ul>
    <button id="menu-close" class="absolute pin-t pin-r mt-5 mr-6 text-yellow-darker" aria-haspopup="true" aria-expanded="false" aria-controls="menu" aria-label="Chiudi il menu di navigazione">
      {% include 'icons/close.njk' %}
    </button>
  </div>
</nav>
{% endmacro %}

{# 
# Cloudinary image url
# @param {string} id  - The image id
# @param {string} transformation - The transformation to apply
# @param {string} version - The image version (to bypass cloudinary's cdn cache)
#}

{% macro cloudinaryImageUrl(id, transformation, version) %}https://res.cloudinary.com/{% info 'cloudinaryCloudName' %}/image/upload/{{ transformation }}{% if version %}/{{ version }}{% endif %}/{{ id }}{% endmacro %}

{# 
# Post cover image
# @param {String} postCoverId  - the cloudinary image id
# @param {String} version  - the cloudinary image version
# @param {String} crop - optional: the image crop
#}

{% macro postCover(postCoverId, version, crop) %}
{% set baseTransformation %}w_1280,h_1920,c_crop,f_auto,q_auto{% endset %}
{% set transformation = baseTransformation %}
{% if crop %}
{% set transformation %}{{ baseTransformation }},{{ crop }}{% endset %}
{% endif %}
{{ cloudinaryImageUrl(postCoverId, transformation, version) }}
{% endmacro %}
