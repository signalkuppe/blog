---
interface Props {
  src: any;
  sizes: any;
  alt: any;
  width?: any;
  height?: any;
  loading?: any;
  fetchpriority?: any;
  decoding?: any;
}
const {
  src,
  sizes,
  alt,
  width,
  height,
  loading,
  fetchpriority,
  decoding,
  ...props
} = Astro.props;
---

<picture>
  {
    Object.entries(sizes).map(([media, url]) => {
      /** @ts-ignore */
      return <source srcset={url} media={`(max-width: ${media}px)`} />;
    })
  }

  <img
    src={src}
    alt={alt}
    width={width}
    height={height}
    loading={loading}
    fetchpriority={fetchpriority}
    decoding={decoding}
    {...props}
  />
</picture>

<style>
  picture {
    display: contents;
  }
</style>
